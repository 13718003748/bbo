/*
 * PPO
 * +++++++++ a utility-belt library for JavaScript +++++++++
 * (c) 2011-2018 halld add
 * https://github.com/jiayi2/ppo
 * version 1.3.19
 * add ppo.objectParam
 */
(function(global,factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof module!=="undefined"&&module.exports){module.exports=factory()}else{global.ppo=factory()}})(this,function(){function ppo(){}ppo.isIOS=ppo.isIos=function(){return/iPad|iPhone|iPod/.test(ppo.ua())};ppo.isiPhone=function(){return/iPhone/.test(ppo.ua())};ppo.isIPad=function(){return/iPad/.test(ppo.ua())};ppo.isAndroid=function(){return ppo.ua("l").indexOf("android")>-1};ppo.isMobile=function(){return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(ppo.ua("l"))};ppo.isPC=function(){return!this.isMobile()};ppo.isWeixin=function(){return/MicroMessenger/i.test(ppo.ua("l"))};ppo.isNewsApp=function(e){return/qqnews/.test(ppo.ua())};ppo.mqqbrowser=function(){return/mqqbrowser\//.test(ppo.ua())};ppo.qq=function(){return/qq\//.test(ppo.ua())};ppo.tenvideo=function(){return/qqlivebrowser/.test(ppo.ua())};ppo.isIE=function(){return ppo.ieVer()>0};ppo.ieVersion=ppo.ieVer=function(){let ua=ppo.ua();let msie=ua.indexOf("MSIE ");if(msie>0){return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10)}let trident=ua.indexOf("Trident/");if(trident>0){let rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}let edge=ua.indexOf("Edge/");if(edge>0){return parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)}return""};ppo.ua=function(lower){return lower?window.navigator.userAgent.toLowerCase():window.navigator.userAgent};ppo.log=function(msg,styles){let ele=document.getElementById("_ppo_log");if(ele===null){ele=document.createElement("div");ele.setAttribute("id","_ppo_log");ele.setAttribute("style","position:fixed;left:0;top:0;z-index:9999;padding:4px;");document.body.appendChild(ele)}if(styles){for(let style in styles){ele.style[style]=styles[style]}}ele.innerHTML=msg};ppo.logs=function(){if(window.console&&window.console.log){let onlyid=String(arguments[0]);let times=parseInt(onlyid.split("&")[1])||10;let logsCache=ppo._cache.logs;if(!logsCache[onlyid])logsCache[onlyid]={};if(!logsCache[onlyid].once)logsCache[onlyid].once=1;if(logsCache[onlyid].once<=times){console.log.apply(console,ppo.args(arguments,1));logsCache[onlyid].once++}}};ppo.removeConsole=function(clear){try{if(!window.console)window.console={};window.console.log=window.console.info=window.console.dir=window.console.warn=window.console.trace=ppo.noop;if(clear==="clear"&&window.console.clear)window.console.clear()}catch(e){}};ppo.open=function(href){let id="_ppo_open_proxy";let a=document.getElementById(id)||document.createElement("a");a.setAttribute("id",id);a.setAttribute("href",href);a.setAttribute("target","_blank");a.style.display="none";if(!a.parentNode)document.body.appendChild(a);this.trigger(a,"click","MouseEvents")};ppo.stopPropagation=function(e){var e=e||window.event;if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}};ppo.g=function(i){return document.getElementById(i)};ppo.gc=function(cn){return document.getElementsByClassName(cn)};ppo.c=function(t,cn,i,id){let el=document.createElement(t);if(cn){el.setAttribute('class',cn)};if(i){el.innerHTML=i};if(id){el.setAttribute('id',id)};return el};ppo.Router=function(){this.hash=window.location.hash.substring(1)};ppo.Router.prototype={add:function(_hash,callback){let _this=this;_checkRouter(_this.hash);_this.bindHashChange(function(__hash){_checkRouter(__hash)});function _checkRouter(__hash){if(_hash==__hash){if(typeof callback==='function'){callback()}}}},bindHashChange:function(callback){let _this=this;if('onhashchange'in window){_this.addEvent(window,'hashchange',function(){_this.hash=window.location.hash.substring(1);if(typeof callback==='function'){callback(_this.hash)}})}else{setInterval(function(){let ischanged=_this.hash!=window.location.hash.substring(1);if(ischanged){_this.hash=window.location.hash.substring(1);if(typeof callback==='function'){callback(_this.hash)}}},150)}},addEvent:function(el,eventType,callback){if(el.addEventListener){return el.addEventListener(eventType,callback,false)}else if(el.attachEvent){return el.attachEvent(eventType,callback)}else{return el['on'+eventType]=callback}}};ppo.Router.init=function(){let router=new ppo.Router();return router};ppo.trigger=function(element,event,eventType){if(document.createEventObject){var e=document.createEventObject();return element.fireEvent("on"+event,e)}else{var e=document.createEvent(eventType||"HTMLEvents");e.initEvent(event,true,true);element.dispatchEvent(e)}};ppo.setTimesout=function(){let func=arguments[0];let delay=arguments[1]===undefined?0:parseFloat(arguments[1]);let times=arguments[2]===undefined?1:parseInt(arguments[2]);let args=arguments.length>3?ppo.args(arguments,3):null;let target={index:0,times:times,over:false};var id=setInterval(function(){target.index++;if(target.index>times){clearInterval(id)}else{if(target.index==times)target.over=true;func.apply(target,args)}},delay);return id};ppo.clearTimesout=function(id){clearInterval(id)};ppo.construct=function(){let classs=arguments[0];return new(Function.prototype.bind.apply(classs,arguments))()};ppo.paramsName=function(fn){return/\(\s*([\s\S]*?)\s*\)/.exec(fn.toString())[1].split(/\s*,\s*/)};ppo.getDate=function(d1,d2){let today=new Date();let dd=today.getDate();let mm=today.getMonth()+1;let yyyy=today.getFullYear();let hh=today.getHours();let ms=today.getMinutes();let ss=today.getSeconds();dd=ppo.fill0(dd);mm=ppo.fill0(mm);hh=ppo.fill0(hh);ms=ppo.fill0(ms);ss=ppo.fill0(ss);d1=d1||"/";d2=d2||":";return yyyy+d1+mm+d1+dd+" "+hh+d2+ms+d2+ss};ppo.formatPassTime=function(startTime){let currentTime=Date.parse(new Date()); let time=currentTime-startTime; let day=parseInt(time/(1000*60*60*24)); let hour=parseInt(time/(1000*60*60)); let min=parseInt(time/(1000*60)); let month=parseInt(day/30); let year=parseInt(month/12);if(year)return year+"年前";if(month)return month+"个月前";if(day)return day+"天前";if(hour)return hour+"小时前";if(min)return min+"分钟前";else return'刚刚'};ppo.formatRemainTime=function(endTime){let startDate=new Date();let endDate=new Date(endTime);let t=endDate.getTime()-startDate.getTime();let d=0; let h=0; let m=0; let s=0;if(t>=0){d=Math.floor(t/1000/3600/24);h=Math.floor(t/1000/60/60%24);m=Math.floor(t/1000/60%60);s=Math.floor(t/1000%60)}return d+"天 "+h+"小时 "+m+"分钟 "+s+"秒"};ppo.getUrlParam=function(name,url){if(!url)url=window.location.href;name=name.replace(/[\[\]]/g,"\\$&");let regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)"); let results=regex.exec(url);if(!results)return null;if(!results[2])return"";return decodeURIComponent(results[2].replace(/\+/g," "))};ppo.setUrlParam=function(key,value,url){if(!url)url=window.location.href;let re=new RegExp("([?|&])"+key+"=.*?(&|#|$)","i");if(url.match(re)){return url.replace(re,"$1"+key+"="+encodeURIComponent(value)+"$2")}else{let hash="";if(url.indexOf("#")!==-1){hash=url.replace(/.*#/,"#");url=url.replace(/#.*/,"")}let separator=url.indexOf("?")!==-1?"&":"?";return url+separator+key+"="+encodeURIComponent(value)+hash}};ppo.deleteUrlParam=ppo.delUrlParam=function(param,url){if(!url)url=window.location.href;let urlparts=url.split("?");if(urlparts.length>=2){let prefix=encodeURIComponent(param)+"=";let pars=urlparts[1].split(/[&;]/g);for(let i=pars.length;i-->0;){if(pars[i].lastIndexOf(prefix,0)!==-1){pars.splice(i,1)}}url=urlparts[0]+(pars.length>0?"?"+pars.join("&"):"");return url}else{return url}};ppo.objectParam=function(arr){let str='';if(Array.isArray(arr)){str=arr.map(function(item){return item.name+'='+item.value}).join('&')}else{str=ppo.objectParam(ppo.objectBigParam(arr))};return str};ppo.objectBigParam=function(obj){let arr=[];Object.keys(obj).forEach(function(k){if(Array.isArray(obj[k])){arr=arr.concat(obj[k].map(function(v){return{name:k,value:v}}))}else{arr.push({name:k,value:obj[k]})}});return arr};ppo.setCookie=function(name,value,option){let longTime=10;let path="; path=/";let val=option&&option.raw?value:encodeURIComponent(value);let cookie=encodeURIComponent(name)+"="+val;if(option){if(option.days){var date=new Date();var ms=option.days*24*3600*1000;date.setTime(date.getTime()+ms);cookie+="; expires="+date.toGMTString()}else if(option.hour){var date=new Date();var ms=option.hour*3600*1000;date.setTime(date.getTime()+ms);cookie+="; expires="+date.toGMTString()}else{var date=new Date();var ms=longTime*365*24*3600*1000;date.setTime(date.getTime()+ms);cookie+="; expires="+date.toGMTString()}if(option.path)cookie+="; path="+option.path;if(option.domain)cookie+="; domain="+option.domain;if(option.secure)cookie+="; true"}document.cookie=cookie};ppo.getCookie=function(name){let nameEQ=encodeURIComponent(name)+"=";let ca=document.cookie.split(";");for(let i=0;i<ca.length;i++){let c=ca[i];while(c.charAt(0)===" ")c=c.substring(1,c.length);if(c.indexOf(nameEQ)===0)return decodeURIComponent(c.substring(nameEQ.length,c.length))}return null};ppo.deleteCookie=ppo.delCookie=function(name){this.setCookie(name,"",{hour:-1})};ppo.cookie=function(){function _extend(){let i=0;let result={};for(;i<arguments.length;i++){let attributes=arguments[i];for(let key in attributes){result[key]=attributes[key]}}return result}function init(converter){function api(key,value,attributes){let result;if(typeof document==="undefined"){return}if(arguments.length>1){attributes=_extend({path:"/"},api.defaults,attributes);if(typeof attributes.expires==="number"){let expires=new Date();expires.setMilliseconds(expires.getMilliseconds()+attributes.expires*864e5);attributes.expires=expires}try{result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=result}}catch(e){}if(!converter.write){value=encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)}else{value=converter.write(value,key)}key=encodeURIComponent(String(key));key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);key=key.replace(/[\(\)]/g,escape);return(document.cookie=[key,"=",value,attributes.expires?"; expires="+attributes.expires.toUTCString():"",attributes.path?"; path="+attributes.path:"",attributes.domain?"; domain="+attributes.domain:"",attributes.secure?"; secure":""].join(""))}if(!key){result={}}let cookies=document.cookie?document.cookie.split("; "):[];let rdecode=/(%[0-9A-Z]{2})+/g;let i=0;for(;i<cookies.length;i++){let parts=cookies[i].split("=");let cookie=parts.slice(1).join("=");if(cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1)}try{let name=parts[0].replace(rdecode,decodeURIComponent);cookie=converter.read?converter.read(cookie,name):converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent);if(this.json){try{cookie=JSON.parse(cookie)}catch(e){}}if(key===name){result=cookie;break}if(!key){result[name]=cookie}}catch(e){}}return result}api.set=api;api.get=function(key){return api.call(api,key)};api.getJSON=api.getjson=api.getJson=function(){return api.apply({json:true},[].slice.call(arguments))};api.defaults={};api.remove=function(key,attributes){api(key,"",_extend(attributes,{expires:-1}))};api.withConverter=init;return api}return init(function(){})};ppo.randomColor=function(){return("#"+("00000"+((Math.random()*0x1000000)<<0).toString(16)).slice(-6))};ppo.randomFromArray=ppo.randomfArr=function(arr){return arr[Math.floor(Math.random()*arr.length)]};ppo.randomFromA2B=ppo.randomA2B=function(a,b,int){let result=Math.random()*(b-a)+a;return int?Math.floor(result):result};ppo.randomKey=function(length){let key="";let possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";length=length||6;for(let i=0;i<length;i++)key+=possible.charAt(Math.floor(Math.random()*possible.length));return key};ppo.floor=function(n,m){m=m||0;return Math.floor(n*Math.pow(10,m))/Math.pow(10,m)};ppo.fill0=function(num){num=parseFloat(num);return num<10?"0"+num:num};ppo.currency=function(val){m=m||0;return Math.floor(n*Math.pow(10,m))/Math.pow(10,m)};ppo.lockTouch=function(){document.addEventListener("touchmove",function(e){e.preventDefault()},!1);document.addEventListener("touchstart",preventDefault,!1);document.addEventListener("touchend",preventDefault,!1);function not(e,tag){return(e.target.tagName!=tag.toUpperCase()&&e.target.tagName!=tag.toLowerCase())}function preventDefault(e){if(not(e,"input")&&not(e,"textarea")&&not(e,"select")&&not(e,"menus"))e.preventDefault()}};ppo.loadjs=function(url,b,c){let onlyId; let callback;if(typeof b==="function"){onlyId=String(this.hash(String(url)));callback=b}else if(typeof b==="undefined"){onlyId=String(this.hash(String(url)));callback=null}else{onlyId=String(b);callback=c}if(ppo._cache.urls[onlyId]){callback&&callback()}else{let func=typeof url==="string"?_insertScript:_insertScripts;func.call(this,url,function(){ppo._cache.urls[onlyId]=true;callback&&callback()})}};ppo.loadcss=function(url,callback){let promise; let resolutions=[]; let rejections=[]; let resolved=false; let rejected=false; let count; let id;this.count=this.count?++this.count:1;count=this.count;id="load-css-"+count;promise={done:function(callback){resolutions.push(callback);if(resolved)callback();return promise},fail:function(callback){rejections.push(callback);if(rejected)callback();return promise}};function resolve(){resolved=true;for(let i=0,len=resolutions.length;i<len;i++)resolutions[i]()}function reject(){rejected=true;for(let i=0,len=rejections.length;i<len;i++)rejections[i]()}let link=document.createElement("link");link.setAttribute("id",id);link.setAttribute("rel","stylesheet");link.setAttribute("type","text/css");if(typeof link.addEventListener!=="undefined"){link.addEventListener("load",resolve,false);link.addEventListener("error",reject,false)}else if(typeof link.attachEvent!=="undefined"){link.attachEvent("onload",function(){let txt; let cur; let i=document.styleSheets.length;try{while(i--){cur=document.styleSheets[i];if(cur.id===id){txt=cur.cssText;resolve();return}}}catch(e){}if(!resolved){reject()}})}document.getElementsByTagName("head")[0].appendChild(link);link.setAttribute("href",url);return promise};A=(function(){let ret={isArray:function(obj){return Object.prototype.toString.call(obj)==="[object Array]"},unique:function(target){let temp=[];_that:for(let i=0,len=target.length;i<len;i++){for(let j=i+1;j<len;j++){if(target[i]===target[j]){continue _that}}temp.push(target[i])}return temp},random:function(target){return target[Math.floor(Math.random()*target.length)]},shuffle:function(target){if(!target.length==0){let temp=target; let j; let x; let i=target.length;for(;i>0;j=parseInt(Math.random()*i),x=target[--i],target[i]=target[j],target[j]=x){}return temp}return},equal:function(arr1,arr2){if(arr1===arr2)return true;if(arr1.length!=arr2.length)return false;for(let i=0;i<arr1.length;++i){if(arr1[i]!==arr2[i])return false};return true},contains:function(target,item){return target.indexOf(item)>-1},removeAt:function(target,index){return!!target.splice(index,1).length},remove:function(target,item){let index=target.indexOf(item);return index>-1?this.removeAt(target,index):false},compact:function(target){if(!type.isArray(target)){throw new Error("target error type");}return target.filter(function(item){return item!=undefined})},pluck:function(target,name){let result=[]; let temp;target.forEach(function(item){temp=item[name];if(temp!=null){result.push(temp)}});return result},union:function(t1,t2){return this.unique(t1.concat(t2))},intersect:function(t1,t2){return t1.filter(function(item){return~t2.indexOf(item)})},diff:function(t1,t2){let r=t1;for(let i=0;i<t1.length;i++){for(let j=0;j<t2.length;j++){if(r[i]===t2[j]){r.splice(i,1);i--;break}}}return r},max:function(target){return Math.max.apply(0,target)},min:function(target){return Math.min.apply(0,target)},indexOf:function(array,elt,from){if(array.indexOf){return isNaN(from)?array.indexOf(elt):array.indexOf(elt,from)}else{let len=array.length;from=isNaN(from)?0:from<0?Math.ceil(from)+len:Math.floor(from);for(;from<len;from++){if(array[from]===elt)return from}return-1}},lastIndexOf:function(array,elt,from){if(array.lastIndexOf){return isNaN(from)?array.lastIndexOf(elt):array.lastIndexOf(elt,from)}else{let len=array.length;from=isNaN(from)||from>=len-1?len-1:from<0?Math.ceil(from)+len:Math.floor(from);for(;from>-1;from--){if(array[from]===elt)return from}return-1}}};function each(object,callback){if(undefined===object.length){for(let name in object){if(callback(object[name],name,object)===false)break}}else{for(let i=0,len=object.length;i<len;i++){if(i in object){if(callback(object[i],i,object)===false)break}}}}each({forEach:function(object,callback,thisp){each(object,function(){callback.apply(thisp,arguments)})},map:function(object,callback,thisp){let ret=[];each(object,function(){ret.push(callback.apply(thisp,arguments))});return ret},filter:function(object,callback,thisp){let ret=[];each(object,function(item){callback.apply(thisp,arguments)&&ret.push(item)});return ret},every:function(object,callback,thisp){let ret=true;each(object,function(){if(!callback.apply(thisp,arguments)){ret=false;return false}});return ret},some:function(object,callback,thisp){let ret=false;each(object,function(){if(callback.apply(thisp,arguments)){ret=true;return false}});return ret}},function(method,name){ret[name]=function(object,callback,thisp){if(object[name]){return object[name](callback,thisp)}else{return method(object,callback,thisp)}}});return ret})();ppo.Array=A;S={trim:function(str){str=str.replace(/^\s+/,"");for(let i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.slice(0,i+1);break}}return str},print:function(str,object){let arr=[].slice.call(arguments,1); let index;return str.replace(/#{([^{}]+)}/gm,function(match,name){index=Number(name);if(index>=0){return arr[index]}if(object&&object[name]!==""){return object[name]}return""})},fillZero:function(target,n){let z=new Array(n).join("0"); let str=z+target; let result=str.slice(-n);return result},longUnique:function(target){let json={};for(var index=0;index<target.length;index++){if(!json[target[index]]){json[target[index]]=-1}};let longString='';for(var index=0;index<target.length;index++){if(json[target[index]]){json[target[index]]=0;longString=longString+target[index]}};return longString},stripTags:function(target){if(type.getType(target)==="String"){return target.replace(/<script[^>]*>(\S\s*?)<\/script>/gim,"").replace(/<[^>]+>/g,"")}},capitalize:function(target){return target.charAt(0).toUpperCase()+target.slice(1).toLowerCase()},camelize:function(target){if(target.indexOf("-")<0&&target.indexOf("_")<0){return target}return target.replace(/[-_][^-_]/g,function(match){return match.charAt(1).toUpperCase()})},underscored:function(target){return target.replace(/([a-z0-9])([A-Z])/g,"$1_$2").toLowerCase()},dasherize:function(target){return this.underscored(target).replace(/_/g,"-")},truncate:function(target,len,truncation){len=len||30;truncation=truncation?truncation:"...";return target.length>len?target.slice(0,len-truncation.length)+truncation:target.toString()},byteLen:function(str,charset){let target=0; let charCode; let i; let len;charset=charset?charset.toLowerCase():"";if(charset==="utf-16"||charset==="utf16"){for(i=0,len=str.length;i<len;i++){charCode=str.charCodeAt(i);if(charCode<=0xffff){target+=2}else{target+=4}}}else{for(i=0,len=str.length;i<len;i++){charCode=str.charCodeAt(i);if(charCode<=0x007f){target+=1}else if(charCode<=0x07ff){target+=2}else if(charCode<=0xffff){target+=3}else{target+=4}}}return target},repeat:function(item,times){let s=item; let target="";while(times>0){if(times%2==1){target+=s}if(times==1){break}s+=s;times=times>>1}return target},endsWith:function(target,item,ignorecase){let str=target.slice(-item.length);return ignorecase?str.toLowerCase()===item.toLowerCase():str===item},startsWith:function(target,item,ignorecase){let str=target.slice(0,item.length);return ignorecase?str.toLowerCase()===item.toLowerCase():str===item},containsClass:function(target,item,separator){return separator?(separator+target+separator).indexOf(separator+item+separator)>-1:this.contains(target,item)},contains:function(target,item){return target.indexOf(item)!=-1}};ppo.String=S;loadImage=(function(){function loadImages(options){let len=0; let index=0; let curIndex=0; let stepTimer=null; let stepTimeValue=5; let percentageValue=0; let targetPercent=0; let data=options.data||[]; let step=options.step||function(){}; let complete=options.complete||function(){}; let needOneStep=options.needOneStep||false; let path=options.path||false;if(typeof data!=="object"||data.length===0){step(100);return false}len=data.length;if(path){for(let i=len-1;i>-1;i--){data[i]=path+data[i]}}var processStep=function(){percentageValue++;step(percentageValue);if(percentageValue<targetPercent){stepTimer=setTimeout(function(){processStep()},stepTimeValue)}else if(targetPercent===100&&percentageValue===targetPercent){if(complete&&typeof complete==="function"){complete()}}};function onload(){curIndex++;targetPercent=Math.floor(curIndex/len*100);if(needOneStep){if(stepTimer){clearTimeout(stepTimer)}processStep()}else{step(targetPercent);if(targetPercent===100){complete()}}}for(index;index<len;index++){let strUrl=data[index];new loadImageItem(strUrl,onload).start()}}function loadImageItem(url,cb){let self=this;this.img=new Image();let onReadyStateChange=function(){removeEventHandlers();console.info("onReadyStateChange");cb(this,"onReadyStateChange")};let onError=function(){console.info("onError");removeEventHandlers();cb(this,"onError")};let onLoad=function(){removeEventHandlers();cb(this,"onload")};var removeEventHandlers=function(){self.unbind("load",onLoad);self.unbind("readystatechange",onReadyStateChange);self.unbind("error",onError)};this.start=function(){this.bind("load",onLoad);this.bind("readystatechange",onReadyStateChange);this.bind("error",onError);this.img.src=url;if(self.img.complete){removeEventHandlers();cb(this,"onload")}}}loadImageItem.prototype.bind=function(eventName,eventHandler){if(this.img.addEventListener){this.img.addEventListener(eventName,eventHandler,false)}else if(this.img.attachEvent){this.img.attachEvent("on"+eventName,eventHandler)}};loadImageItem.prototype.unbind=function(eventName,eventHandler){if(this.img.removeEventListener){this.img.removeEventListener(eventName,eventHandler,false)}else if(this.img.detachEvent){this.img.detachEvent("on"+eventName,eventHandler)}};if(typeof define==="function"&&define.amd){define("loadImages",[],function(){return loadImages})}return loadImages})();ppo.loadImage=loadImage;ppo.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){let r=(Math.random()*16)|0; let v=c=="x"?r:(r&0x3)|0x8;return v.toString(16)})};ppo.hash=function(str){str = String(str);let hash=0; let i; let chr;if(str.length===0)return hash;for(i=0;i<str.length;i++){chr=str.charCodeAt(i);hash=(hash<<5)-hash+chr;hash|=0}return hash};ppo.judge=ppo.judgment=function(v,vals,strict){if(!this.isTypeof(vals,"array"))return false;for(let key in vals){if(strict){if(v===vals[key])return true}else{if(v==vals[key])return true}}return false};ppo.isTypeof=function(val,type){return(Object.prototype.toString.call(val).slice(8,-1).toLowerCase()===type)};ppo.getType=function(ele){if(!ele)return undefined;if(window==document&&document!=window){return'window'}else if(ele.nodeType===9){return'document'}else if(ele.callee){return'arguments'}else if(isFinite(ele.length)&&ele.item){return'nodeList'}else{let temp=Object.prototype.toString.call(ele); let reg=/\[object (.*)\]/; let arr=reg.exec(temp);return arr[1].toLowerCase()}};ppo.toJSON=ppo.tojson=ppo.toJson=function(res){if(!res)return null;if(typeof res==="string"){try{return JSON.parse(res)}catch(e){return eval("("+res+")")}}else if(this.isTypeof(res.json,"function")){return res.json()}else{return res}};ppo.args=function($arguments,first){return Array.prototype.slice.call($arguments,first||0)};ppo.trash={clear:function(){for(let key in ppo.trash){if(key!=="log"&&key!=="clear")delete ppo.trash[key]}},log:function(){for(let key in ppo.trash){if(key!=="log"&&key!=="clear")console.log("ppo.trash:: ",key,ppo.trash[key])}}};ppo.noop=function(){};ppo._cache={urls:{},logs:{}};var _insertScripts=function(arr,callback){for(let i=0;i<arr.length;i++){_insertScript(arr[i],loaded)}let _index=0;function loaded(){_index++;if(_index>=arr.length){callback&&callback()}}};var _insertScript=function(src,callback){let script=document.createElement("script");script.setAttribute("type","text/javascript");script.setAttribute("src",src);document.getElementsByTagName("head")[0].appendChild(script);if(/msie/.test(ppo.ua("l"))){script.onreadystatechange=function(){if(this.readyState=="loaded"||this.readyState=="complete"){callback()}}}else if(/gecko/.test(ppo.ua("l"))){script.onload=function(){callback()}}else{setTimeout(function(){callback()},50)}};ppo.ajax=ppo.ajax||{};ppo.event=ppo.event||{};ppo.template=ppo.template||{};ppo.modules=ppo.modules||{};return ppo});