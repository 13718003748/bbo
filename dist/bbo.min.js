!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).bbo={})}(this,(function(e){"use strict";function t(e){return e?window.navigator.userAgent.toLowerCase():window.navigator.userAgent}function n(){return/iPad|iPhone|iPod/.test(t())}function o(){return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(t("l"))}function i(){let e=t(),n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){let t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}let o=e.indexOf("Edge/");return o>0?parseInt(t.substring(o+5,e.indexOf(".",o)),10):""}function r(e,t){return Array.prototype.slice.call(e,t||0)}let c={clear:function(){for(let e in c)"log"!==e&&"clear"!==e&&delete c[e]},log:function(){for(let e in c)"log"!==e&&"clear"!==e&&console.log("ppo.trash:: ",e,c[e])}};function u(){}let l={urls:{},logs:{}};function a(e,t,n){if(document.createEventObject){let n=document.createEventObject();return e.fireEvent("on"+t,n)}{let o=document.createEvent(n||"HTMLEvents");o.initEvent(t,!0,!0),e.dispatchEvent(o)}}function s(e){let t,n,o=String(e),i=0;if(0===o.length)return i;for(t=0;t<o.length;t++)i=(i<<5)-i+(n=o.charCodeAt(t)),i|=0;return i}function f(e,t){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()===t}let d={urls:{},logs:{}},p=function(e,t){for(let t=0;t<e.length;t++)h(e[t],o);let n=0;function o(){++n>=e.length&&t&&t()}},h=function(e,n){let o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(o),/msie/.test(t("l"))?o.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||n()}:/gecko/.test(t("l"))?o.onload=function(){n()}:setTimeout((function(){n()}),50)};function g(e,t){let n=this;n.img=new Image;let o=function(){c(),console.info("onReadyStateChange"),t(n,"onReadyStateChange")},i=function(){console.info("onError"),c(),t(n,"onError")},r=function(){c(),t(n,"onload")},c=function(){n.unbind("load",r),n.unbind("readystatechange",o),n.unbind("error",i)};this.start=function(){this.bind("load",r),this.bind("readystatechange",o),this.bind("error",i),this.img.src=e,n.img.complete&&(c(),t(this,"onload"))}}function m(e,t,n){let o=n&&n.raw?t:encodeURIComponent(t),i=encodeURIComponent(e)+"="+o;if(n){if(n.days){let e=new Date,t=24*n.days*3600*1e3;e.setTime(e.getTime()+t),i+="; expires="+e.toGMTString()}else if(n.hour){let e=new Date,t=3600*n.hour*1e3;e.setTime(e.getTime()+t),i+="; expires="+e.toGMTString()}else{let e=new Date,t=31536e7;e.setTime(e.getTime()+t),i+="; expires="+e.toGMTString()}n.path&&(i+="; path="+n.path),n.domain&&(i+="; domain="+n.domain),n.secure&&(i+="; true")}document.cookie=i}function w(e){let t=parseFloat(e);return t<10?"0"+t:t}function y(e){return Object.prototype.toString.call(e)}function b(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function x(e){return"[object Object]"===y(e)}function v(e){return"[object Array]"===y(e)}function E(e){return"[object String]"===y(e)}function j(e){return"[object Number]"===y(e)}function I(e){return"[object Map]"===y(e)}function A(e){return"[object Set]"===y(e)}function O(e){return"[object Function]"===y(e)}function C(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function S(e,t){if(C(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;let i=0;for(;i<n.length;){if(!b(t,n[i])||!C(e[n[i]],t[n[i]]))return!1;i+=1}return!0}function M(e,t){return null!=e&&b(e,t)}function T(e,t){let n=0,o=arguments[2];if(v(e)){for(3!==arguments.length&&(o=e[0]);n<e.length;)o=t(o,e[n],n,e),n+=1;return o}if(x(e)){const i=Object.keys(e);for(3!==arguments.length&&(o=e[i[0]]);n<i.length;){const r=i[n];o=t(o,e[r],r,e),n+=1}return o}return o}function P(e,t){let n=0;if(v(e))for(;n<e.length;){if(!1===t(e[n],n,e))break;n+=1}else if(x(e)){const o=Object.keys(e);for(;n<o.length;){const i=o[n];if(!1===t(e[i],i,e))break;n+=1}}}g.prototype.bind=function(e,t){this.img.addEventListener?this.img.addEventListener(e,t,!1):this.img.attachEvent&&this.img.attachEvent("on"+e,t)},g.prototype.unbind=function(e,t){this.img.removeEventListener?this.img.removeEventListener(e,t,!1):this.img.detachEvent&&this.img.detachEvent("on"+e,t)};const R=".".charCodeAt(0),k=/\\(\\)?/g,U=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g;function D(e){const t=[];return e.charCodeAt(0)===R&&t.push(""),e.replace(U,(e,n,o,i)=>{let r=e;o?r=i.replace(k,"$1"):n&&(r=n.trim()),t.push(r)}),t}function L(e,t,n){let o,i,r,c,u,l,a=0,s=!1,f=!1,d=!0;const p=!t&&0!==t&&"function"==typeof requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){const n=o,r=i;return o=i=void 0,a=t,c=e.apply(r,n)}function g(e,t){return p?(cancelAnimationFrame(u),requestAnimationFrame(e)):setTimeout(e,t)}function m(e){const n=e-l;return void 0===l||n>=t||n<0||f&&e-a>=r}function w(){const e=Date.now();if(m(e))return function(e){if(u=void 0,d&&o)return h(e);return o=i=void 0,c}(e);u=g(w,function(e){const n=e-a,o=t-(e-l);return f?Math.min(o,r-n):o}(e))}return t=+t||0,x(n)&&(s=!!n.leading,r=(f="maxWait"in n)?Math.max(+n.maxWait||0,t):r,d="trailing"in n?!!n.trailing:d),function(...e){const n=Date.now(),r=m(n);if(o=e,i=this,l=n,r){if(void 0===u)return function(e){return a=e,u=g(w,t),s?h(e):c}(l);if(f)return u=g(w,t),h(l)}return void 0===u&&(u=g(w,t)),c}}let F={version:"1.0.1",ua:t,isIOS:n,isIos:n,isiPhone:function(){return/iPhone/.test(t())},isIPad:function(){return/iPad/.test(t())},isAndroid:function(){return t("l").indexOf("android")>-1},isMobile:o,isPC:function(){return!o()},isWeixin:function(){return/MicroMessenger/i.test(t("l"))},isNewsApp:function(e){return/qqnews/.test(t())},isQQ:function(){return/qq\//.test(t())},isTenvideo:function(){return/qqlivebrowser/.test(t())},isIphoneXmodel:function(){const e=[{devicePixelRatio:3,width:375,height:812},{devicePixelRatio:3,width:414,height:896},{devicePixelRatio:2,width:414,height:896}];if("undefined"!=typeof window&&window){const{devicePixelRatio:t,screen:n}=window,{width:o,height:i}=n;return e.some(e=>e.devicePixelRatio===t&&e.width===o&&e.height===i)}return!1},ieVersion:i,isIE:function(){return i()>0},mqqbrowser:function(){return/mqqbrowser\//.test(t())},log:function(e,t){let n=document.getElementById("_ppo_log");if(null===n&&((n=document.createElement("div")).setAttribute("id","_ppo_log"),n.setAttribute("style","position:fixed;left:0;top:0;z-index:9999;padding:4px;"),document.body.appendChild(n)),t)for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n.style[e]=t[e]);n.innerHTML=e},logs:function(){if(window.console&&window.console.log){let e=String(arguments[0]),t=parseInt(e.split("&")[1],10)||10,n=l.logs;n[e]||(n[e]={}),n[e].once||(n[e].once=1),n[e].once<=t&&(console.log.apply(console,r(arguments,1)),n[e].once++)}},removeConsole:function(e){try{window.console||(window.console={}),window.console.log=window.console.info=window.console.dir=window.console.warn=window.console.trace=u,"clear"===e&&window.console.clear&&window.console.clear()}catch(e){}},args:r,trash:c,noop:u,open:function(e){let t="_ppo_open_proxy",n=document.getElementById(t)||document.createElement("a");n.setAttribute("id",t),n.setAttribute("href",e),n.setAttribute("target","_blank"),n.style.display="none",n.parentNode||document.body.appendChild(n),a(n,"click","MouseEvents")},trigger:a,stopPropagation:function(e){let t=e||window.event;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},g:function(e){return document.getElementById(e)},gc:function(e){return document.getElementsByClassName(e)},c:function(e,t,n,o){let i=document.createElement(e);return t&&i.setAttribute("class",t),n&&(i.innerHTML=n),o&&i.setAttribute("id",o),i},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},hash:s,judge:function(e,t,n){if(!f(t,"array"))return!1;for(let o in t)if(n){if(e===t[o])return!0}else if(e===t[o])return!0;return!1},getType:function(e){if(e){if(window===document&&document!==window)return"window";if(9===e.nodeType)return"document";if(e.callee)return"arguments";if(isFinite(e.length)&&e.item)return"nodeList";{let t=Object.prototype.toString.call(e);return/\[object (.*)\]/.exec(t)[1].toLowerCase()}}},isTypeof:f,construct:function(){let e=arguments[0];return new(Function.prototype.bind.apply(e,arguments))},paramsName:function(e){return/\(\s*([\s\S]*?)\s*\)/.exec(e.toString())[1].split(/\s*,\s*/)},loadImages:function(e){let t=0,n=0,o=0,i=null,r=0,c=0,u=e.data||[],l=e.step||function(){},a=e.complete||function(){},s=e.needOneStep||!1,f=e.path||!1;if("object"!=typeof u||0===u.length)return l(100),!1;if(t=u.length,f)for(let e=t-1;e>-1;e--)u[e]=f+u[e];let d=function(){l(++r),r<c?i=setTimeout((function(){d()}),5):100===c&&r===c&&a&&"function"==typeof a&&a()};function p(){o++,c=Math.floor(o/t*100),s?(i&&clearTimeout(i),d()):(l(c),100===c&&a())}for(;n<t;n++){new g(u[n],p).start()}},loadjs:function(e,t,n){let o,i;if("function"==typeof t?(o=String(s(String(e))),i=t):void 0===t?(o=String(s(String(e))),i=null):(o=String(t),i=n),d.urls[o])i&&i();else{("string"==typeof e?h:p).call(this,e,(function(){d.urls[o]=!0,i&&i()}))}},loadcss:function(e,t){let n,o,i,r=[],c=[],u=!1,l=!1;function a(){u=!0;for(let e=0,t=r.length;e<t;e++)r[e]()}function s(){l=!0;for(let e=0,t=c.length;e<t;e++)c[e]()}this.count=this.count?++this.count:1,o=this.count,i="load-css-"+o,n={done:function(e){return r.push(e),u&&e(),n},fail:function(e){return c.push(e),l&&e(),n}};let f=document.createElement("link");return f.setAttribute("id",i),f.setAttribute("rel","stylesheet"),f.setAttribute("type","text/css"),void 0!==f.addEventListener?(f.addEventListener("load",a,!1),f.addEventListener("error",s,!1)):void 0!==f.attachEvent&&f.attachEvent("onload",(function(){let e,t=document.styleSheets.length;try{for(;t--;)if((e=document.styleSheets[t]).id===i)return void a()}catch(e){}u||s()})),document.getElementsByTagName("head")[0].appendChild(f),f.setAttribute("href",e),n},toJson:function(e){if(!e)return null;if("string"!=typeof e)return f(e.json,"function")?e.json():e;try{return JSON.parse(e)}catch(t){return new Function("return "+("("+e+")"))()}},cookie:function(){function e(){let e=0,t={};for(;e<arguments.length;e++){let n=arguments[e];for(let e in n)Object.prototype.hasOwnProperty.call(e,n)&&(t[e]=n[e])}return t}return function t(n){function o(t,i,r){let c;if("undefined"==typeof document)return;if(arguments.length>1){let u=e({path:"/"},o.defaults,r);if("number"==typeof u.expires){let e=new Date;e.setMilliseconds(e.getMilliseconds()+864e5*u.expires),u.expires=e}let l=i;try{c=JSON.stringify(l),/^[\{\[]/.test(c)&&(l=c)}catch(e){}l=n.write?n.write(l,t):encodeURIComponent(String(l)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);let a=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);return document.cookie=[a,"=",i,r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}t||(c={});let u=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,a=0;for(;a<u.length;a++){let e=u[a].split("="),o=e.slice(1).join("=");'"'===o.charAt(0)&&(o=o.slice(1,-1));try{let i=e[0].replace(l,decodeURIComponent);o=n.read?n.read(o,i):n(o,i)||o.replace(l,decodeURIComponent);try{o=JSON.parse(o)}catch(e){console.log(e)}if(t===i){c=o;break}t||(c[i]=o)}catch(e){}}return c}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=o.getjson=o.getJson=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,n){o(t,"",e(n,{expires:-1}))},o.withConverter=t,o}((function(){}))},setCookie:m,getCookie:function(e){let t=encodeURIComponent(e)+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return null},deleteCookie:function(e){m(e,"",{hour:-1})},getUrlParam:function(e,t){let n=t;n||(n=window.location.href);let o=e.replace(/[\[\]]/g,"\\$&"),i=new RegExp("[?&]"+o+"(=([^&#]*)|&|#|$)").exec(n);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},setUrlParam:function(e,t,n){let o=n;o||(o=window.location.href);let i=new RegExp("([?|&])"+e+"=.*?(&|#|$)","i");if(o.match(i))return o.replace(i,"$1"+e+"="+encodeURIComponent(t)+"$2");{let n="";-1!==o.indexOf("#")&&(n=o.replace(/.*#/,"#"),o=o.replace(/#.*/,""));let i=-1!==o.indexOf("?")?"&":"?";return o+i+e+"="+encodeURIComponent(t)+n}},deleteUrlParam:function(e,t){let n=t;n||(n=window.location.href);let o=n.split("?");if(o.length>=2){let t=encodeURIComponent(e)+"=",i=o[1].split(/[&;]/g);for(let e=i.length;e-- >0;)-1!==i[e].lastIndexOf(t,0)&&i.splice(e,1);return n=o[0]+(i.length>0?"?"+i.join("&"):"")}return n},objectParam:function e(t){let n="";return n=Array.isArray(t)?t.map((function(e){return e.name+"="+e.value})).join("&"):e(function(e){let t=[];return Object.keys(e).forEach((function(n){Array.isArray(e[n])?t=t.concat(e[n].map((function(e){return{name:n,value:e}}))):t.push({name:n,value:e[n]})})),t}(t))},setTimesout:function(){let e=arguments[0],t=void 0===arguments[1]?0:parseFloat(arguments[1]),n=void 0===arguments[2]?1:parseInt(arguments[2],10),o=arguments.length>3?r(arguments,3):null,i={index:0,times:n,over:!1},c=setInterval((function(){i.index++,i.index>n?clearInterval(c):(i.index===n&&(i.over=!0),e.apply(i,o))}),t);return c},clearTimesout:function(e){clearInterval(e)},getDate:function(e,t){let n=new Date,o=n.getDate(),i=n.getMonth()+1,r=n.getFullYear(),c=n.getHours(),u=n.getMinutes(),l=n.getSeconds();o=w(o);let a=e||"/",s=t||":";return r+a+(i=w(i))+a+o+" "+(c=w(c))+s+(u=w(u))+s+(l=w(l))},formatPassTime:function(e){let t=Date.parse(new Date)-e,n=parseInt(t/864e5,10),o=parseInt(t/36e5,10),i=parseInt(t/6e4,10),r=parseInt(n/30,10),c=parseInt(r/12,10);return c?c+"年前":r?r+"个月前":n?n+"天前":o?o+"小时前":i?i+"分钟前":"刚刚"},formatRemainTime:function(e){let t=new Date,n=new Date(e).getTime()-t.getTime(),o=0,i=0,r=0,c=0;return n>=0&&(o=Math.floor(n/1e3/3600/24),i=Math.floor(n/1e3/60/60%24),r=Math.floor(n/1e3/60%60),c=Math.floor(n/1e3%60)),o+"天 "+i+"小时 "+r+"分钟 "+c+"秒"},fill0:w,randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},randomFromArray:function(e){return e[Math.floor(Math.random()*e.length)]},randomA2B:function(e,t,n){let o=Math.random()*(t-e)+e;return n?Math.floor(o):o},randomKey:function(e){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=e||6;for(let e=0;e<o;e++)t+=n.charAt(Math.floor(Math.random()*n._length));return t},floor:function(e,t){let n=t||0;return Math.floor(e*Math.pow(10,n))/Math.pow(10,n)},lockTouch:function(){function e(e,t){return e.target.tagName!==t.toUpperCase()&&e.target.tagName!==t.toLowerCase()}function t(t){e(t,"input")&&e(t,"textarea")&&e(t,"select")&&e(t,"menus")&&t.preventDefault()}document.addEventListener("touchmove",(function(e){e.preventDefault()}),!1),document.addEventListener("touchstart",t,!1),document.addEventListener("touchend",t,!1)},checkImageSize:function(e,t,n=0){return new Promise((o,i)=>{if(e instanceof File){const t=new FileReader;t.onload=function(){r(this.result)},t.readAsDataURL(e)}else"string"==typeof e&&r(e);function r(e){const i=new Image;i.src=e,i.onload=function(){let e=this.naturalWidth,i=this.naturalHeight;t.width&&Math.abs(t.width-e)>n&&o(!1),t.height&&Math.abs(t.height-i)>n&&o(!1),o(!0)}}})},imageOptimization:function(e,t=.9,{maxWidth:n=1920,mimeType:o}={}){return new Promise((i,r)=>{if(e instanceof File){const t=new FileReader;t.onload=function(){c(this.result)},t.readAsDataURL(e)}else"string"==typeof e&&c(e);function c(c){const u=c.match(/data:([^;,]+)/);if(Array.isArray(u)){if("image/gif"===(o||u[1]))return i(e);const r=new Image;r.src=c,r.onload=function(){let e=this.naturalWidth,r=this.naturalHeight;e>n&&(r=Math.round(n*r/e),e=n);const c=document.createElement("canvas");c.width=e,c.height=r,c.getContext("2d").drawImage(this,0,0,e,r),c.toBlob(e=>{i(e)},o||u[1],t)}}else r(new Error("[Slug Function] 非图片类型的 Data URLs"))}})},getTag:y,hasOwnProperty:b,isObject:x,isArray:v,isString:E,isBoolean:function(e){return"[object Boolean]"===y(e)},isNumber:j,isMap:I,isSet:A,isFunction:O,isEmpty:function(e){return null==e||(v(e)||E(e)?0===e.length:x(e)?0===Object.keys(e).length:!I(e)&&!A(e)||0===e.size)},isShallowEqual:S,has:M,reduce:T,forEach:P,map:function(e,t){const n=[];let o=0;if(v(e))for(;o<e.length;)n.push(t(e[o],o,e)),o+=1;else if(x(e)){const i=Object.keys(e);for(;o<i.length;){const r=i[o];n.push(t(e[r],r,e)),o+=1}}return n},findIndex:function(e,t){let n=-1;return P(e,(e,o,i)=>{if(O(t)){if(!0===t(e,o,i))return n=o,!1}else if(S(e,t))return n=o,!1}),n},find:function(e,t){let n=void 0;return P(e,(e,o,i)=>{if(O(t)){if(!0===t(e,o,i))return n=e,!1}else if(S(e,t))return n=e,!1}),n},toPath:function(e){return E(e)?D(e):[]},get:function(e,t,n){if(null==e)return n;if(!Array.isArray(t)){const n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t=function(e,t){const i=typeof e;return"number"==i||"boolean"==i||null==e||(o.test(e)||!n.test(e)||null!=t&&e in Object(t))}(t,e)?[t]:D(t)}let o=0;const i=t.length;for(;null!=e&&o<i;)e=e[t[o]],o+=1;return o&&o===i?void 0===e?n:e:n},debounce:L,throttle:function(e,t,n){let o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return x(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),L(e,t,{leading:o,trailing:i,maxWait:t})},pick:function(e,...t){return null==e?{}:T(t,(t,n)=>(v(n)?P(n,n=>{M(e,n)&&(t[n]=e[n])}):M(e,n)&&(t[n]=e[n]),t),{})},omit:function(e,...t){if(null==e)return{};const n=Object.assign({},e);return P(t,e=>{v(e)?P(e,e=>{(E(e)||j(e))&&delete n[e]}):(E(e)||j(e))&&delete n[e]}),n}};e.default=F,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=bbo.min.js.map
